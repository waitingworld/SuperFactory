(function(e){function t(t){for(var a,n,s=t[0],i=t[1],d=t[2],p=0,u=[];p<s.length;p++)n=s[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);c&&c(t);while(u.length)u.shift()();return r.push.apply(r,d||[]),l()}function l(){for(var e,t=0;t<r.length;t++){for(var l=r[t],a=!0,s=1;s<l.length;s++){var i=l[s];0!==o[i]&&(a=!1)}a&&(r.splice(t--,1),e=n(n.s=l[0]))}return e}var a={},o={app:0},r=[];function n(t){if(a[t])return a[t].exports;var l=a[t]={i:t,l:!1,exports:{}};return e[t].call(l.exports,l,l.exports,n),l.l=!0,l.exports}n.m=e,n.c=a,n.d=function(e,t,l){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:l})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var l=Object.create(null);if(n.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(l,a,function(t){return e[t]}.bind(null,a));return l},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/SuperFactory/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=i;r.push([0,"chunk-vendors"]),l()})({0:function(e,t,l){e.exports=l("56d7")},"4ed0":function(e,t,l){},"56d7":function(e,t,l){"use strict";l.r(t);var a=l("2b0e"),o=function(){var e=this,t=e._self._c;return t("main-board")},r=[],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"topClass"},[e.showMap?e._e():t("el-row",{staticStyle:{width:"100%"},attrs:{gutter:30}},[t("el-col",{attrs:{span:5}},[t("el-switch",{staticClass:"fixBtnClass",attrs:{"active-text":"模拟","inactive-text":"计算"},model:{value:e.showMap,callback:function(t){e.showMap=t},expression:"showMap"}}),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.saveFiles(e.treeMaterials,e.currentResource+".txt")}}},[e._v("导出")]),t("inventory",{attrs:{amount:e.amount,percent:e.percent},on:{setMaterials:e.getMaterials,setCurrentResource:t=>{e.currentResource=t}}})],1),t("el-col",{attrs:{span:18}},[t("show-board",{attrs:{"all-data":e.allMaterials,"tree-data":e.treeMaterials},on:{setAmount:t=>{e.amount=t},setPercent:t=>{e.percent=t}}})],1)],1),e.showMap?t("div",{staticStyle:{position:"fixed",top:"0",left:"0"}},[t("el-switch",{staticClass:"fixBtnClass",attrs:{"active-text":"模拟","inactive-text":"计算"},model:{value:e.showMap,callback:function(t){e.showMap=t},expression:"showMap"}}),t("map-simulation")],1):e._e()],1)},s=[];l("14d9");const i=["原料","冶炼车间","化工车间","初级成品车间","高级成品车间"],d={"铁矿厂":"info","铜矿厂":"info","棉花厂":"info","木材厂":"info","油井":"info","硅矿厂":"info","铀矿厂":"info","冶炼车间":"success","化工车间":"","初级成品车间":"warning","高级成品车间":"danger"},c=["铁矿厂","铜矿厂","棉花厂","木材厂","油井","硅矿厂","铀矿厂","冶炼车间","化工车间","初级成品车间","高级成品车间"],p=[{name:"铁矿厂",size:"small"},{name:"铜矿厂",size:"small"},{name:"传送带",size:"small"},{name:"储物间",size:"small"},{name:"冶炼车间",size:"small"},{name:"机械臂",size:"small"},{name:"棉花厂",size:"small"},{name:"木材厂",size:"small"},{name:"油井",size:"small"},{name:"长机械臂",size:"small"},{name:"筛选机械臂",size:"small"},{name:"硅矿厂",size:"small"},{name:"铀矿厂",size:"small"},{name:"地下传送带",size:"small"},{name:"平均分流器",size:"middle"},{name:"筛选分流器",size:"middle"},{name:"高级成品车间",size:"big"},{name:"初级成品车间",size:"big"},{name:"化工车间",size:"big"},{name:"铀浓缩车间",size:"big"},{name:"导弹车厂",size:"big"}],u={};async function v(e){u[e]="./icon/"+e+".png"}const m={"铁矿":{production:"铁矿厂",speed:{level1:2,level2:1.33,level3:1}},"铜矿":{production:"铜矿厂",speed:{level1:2,level2:1.33,level3:1}},"棉花":{production:"棉花厂",speed:{level1:2,level2:1.33,level3:1}},"木材":{production:"木材厂",speed:{level1:2,level2:1.33,level3:1}},"原油":{production:"油井",speed:{level1:2,level2:1.33,level3:1}},"硅矿":{production:"硅矿厂",speed:{level1:2,level2:1.33,level3:1}},"铀矿":{production:"铀矿厂",speed:{level1:2,level2:1.33,level3:1}},"铁片":{production:"冶炼车间",need:{"铁矿":2},speed:{level1:3.33,level2:2.37,level3:1.18}},"钛块":{production:"冶炼车间",need:{"铁矿":3},speed:{level1:2,level2:1.42,level3:.71}},"铜线":{production:"冶炼车间",need:{"铜矿":2},speed:{level1:3,level2:2.14,level3:1.07}},"水泥":{production:"冶炼车间",need:{"硅矿":5},speed:{level1:3,level2:2.14,level3:1.07}},"玻璃":{production:"冶炼车间",need:{"硅矿":2},speed:{level1:6,level2:4.28,level3:2.14}},"碎石":{production:"冶炼车间",need:{},from:{"钛块":1},speed:{level1:2,level2:1.42,level3:.71}},"塑料片":{production:"化工车间",need:{"原油":2},speed:{level1:3,level2:2.14,level3:1.07}},"硫":{production:"化工车间",need:{"原油":2},speed:{level1:3,level2:2.14,level3:1.07}},"木炭":{production:"化工车间",need:{"木材":2},speed:{level1:3,level2:2.14,level3:1.07}},"轻质油":{production:"化工车间",need:{"原油":3},speed:{level1:3,level2:2.14,level3:1.07}},"石墨":{production:"化工车间",need:{"木材":5},speed:{level1:3,level2:2.14,level3:1.07}},"沥青":{production:"化工车间",need:{},from:{"轻质油":1},speed:{level1:3,level2:2.14,level3:1.07}},"木板":{production:"初级成品车间",need:{"木材":2},speed:{level1:3,level2:1.87,level3:.93}},"纸":{production:"初级成品车间",need:{"木材":2},speed:{level1:3,level2:1.87,level3:.93}},"纺织":{production:"初级成品车间",need:{"棉花":2},speed:{level1:3,level2:1.87,level3:.93}},"钛合金":{production:"初级成品车间",need:{"钛块":3,"铁片":1},speed:{level1:3,level2:1.87,level3:.93}},"铁钉":{production:"初级成品车间",need:{"铁片":1},speed:{level1:5,level2:3.12,level3:1.56}},"口罩":{production:"初级成品车间",need:{"原油":2,"纺织":1},speed:{level1:5,level2:3.12,level3:1.56}},"磁铁":{production:"初级成品车间",need:{"铁片":5},speed:{level1:5,level2:3.12,level3:1.56}},"气球":{production:"初级成品车间",need:{"塑料片":5},speed:{level1:5,level2:3.12,level3:1.56}},"硫酸":{production:"初级成品车间",need:{"铜线":4,"硫":2},speed:{level1:6,level2:3.75,level3:1.87}},"绝缘线":{production:"初级成品车间",need:{"塑料片":2,"铜线":5},speed:{level1:6,level2:3.75,level3:1.87}},"螺丝":{production:"初级成品车间",need:{"铁片":2},speed:{level1:6,level2:3.75,level3:1.87}},"玩具车":{production:"初级成品车间",need:{"塑料片":5},speed:{level1:10,level2:6.25,level3:3.12}},"平底锅":{production:"初级成品车间",need:{"木板":5,"铁片":10},speed:{level1:10,level2:6.25,level3:3.12}},"灯泡":{production:"初级成品车间",need:{"铜线":1,"石墨":3},speed:{level1:6,level2:3.75,level3:1.87}},"钢板":{production:"初级成品车间",need:{"铁片":5},speed:{level1:6,level2:3.75,level3:1.87}},"电池":{production:"初级成品车间",need:{"铁片":1,"硫酸":2,"铜线":3},speed:{level1:6,level2:3.75,level3:1.87}},"军用电筒":{production:"初级成品车间",need:{"灯泡":1,"电池":2},speed:{level1:8,level2:5,level3:2.5}},"头盔":{production:"初级成品车间",need:{"铁片":50},speed:{level1:8,level2:5,level3:2.5}},"望远镜":{production:"初级成品车间",need:{"玻璃":5,"铁片":10},speed:{level1:8,level2:5,level3:2.5}},"军用背包":{production:"初级成品车间",need:{"纺织":20},speed:{level1:10,level2:6.25,level3:3.12}},"军用水壶":{production:"初级成品车间",need:{"铁片":10},speed:{level1:10,level2:6.25,level3:3.12}},"红科研瓶":{production:"初级成品车间",need:{"铁片":1,"铜线":1},speed:{level1:10,level2:6.25,level3:3.12}},"电路板":{production:"高级成品车间",need:{"铜线":5,"绝缘线":2,"塑料片":5},speed:{level1:10,level2:6.25,level3:3.12}},"收音机":{production:"高级成品车间",need:{"电池":1,"绝缘线":5,"塑料片":5},speed:{level1:10,level2:6.25,level3:3.12}},"防毒面具":{production:"高级成品车间",need:{"口罩":1,"木炭":50},speed:{level1:10,level2:6.25,level3:3.12}},"内燃机":{production:"高级成品车间",need:{"钢板":8,"螺丝":5},speed:{level1:15,level2:9.37,level3:4.68}},"电动机":{production:"高级成品车间",need:{"磁铁":8,"钢板":8,"铜线":5},speed:{level1:15,level2:9.37,level3:4.68}},"电风扇":{production:"高级成品车间",need:{"电动机":1,"绝缘线":10,"铁片":10},speed:{level1:15,level2:9.37,level3:4.68}},"散热器":{production:"高级成品车间",need:{"电动机":1,"铁片":50},speed:{level1:20,level2:12.5,level3:6.25}},"高效电池":{production:"高级成品车间",need:{"电池":1,"电路板":2,"绝缘线":10},speed:{level1:20,level2:12.5,level3:6.25}},"抽水机":{production:"高级成品车间",need:{"电动机":1,"绝缘线":8,"钢板":8},speed:{level1:20,level2:12.5,level3:6.25}},"电钻":{production:"高级成品车间",need:{"电动机":1,"绝缘线":10,"钢板":10},speed:{level1:45,level2:28.12,level3:14.06}},"防弹衣":{production:"高级成品车间",need:{"钢板":1,"纺织":30},speed:{level1:45,level2:28.12,level3:14.06}},"洗衣机":{production:"高级成品车间",need:{"电动机":1,"电路板":5,"铁片":50,"绝缘线":3},speed:{level1:45,level2:28.12,level3:14.06}},"冰箱":{production:"高级成品车间",need:{"电动机":1,"电路板":8,"铁片":50,"绝缘线":3},speed:{level1:45,level2:28.12,level3:14.06}},"摩托车":{production:"高级成品车间",need:{"钢板":20,"内燃机":5,"电池":2,"电路板":2},speed:{level1:45,level2:28.12,level3:14.06}},"电视机":{production:"高级成品车间",need:{"绝缘线":3,"玻璃":50,"塑料片":50,"电路板":10},speed:{level1:45,level2:28.12,level3:14.06}},"手机":{production:"高级成品车间",need:{"高效电池":1,"玻璃":5,"绝缘线":3,"电路板":10},speed:{level1:20,level2:12.5,level3:6.25}},"太阳能板":{production:"高级成品车间",need:{"高效电池":5,"石墨":50,"电路板":2},speed:{level1:30,level2:18.75,level3:9.37}},"电脑":{production:"高级成品车间",need:{"处理器":1,"散热器":1,"塑料片":50,"绝缘线":3},speed:{level1:45,level2:28.12,level3:14.06}},"拖拉机":{production:"高级成品车间",need:{"内燃机":1,"钢板":80,"玻璃":30},speed:{level1:45,level2:28.12,level3:14.06}},"挖掘机":{production:"高级成品车间",need:{"内燃机":2,"钢板":80,"电路板":2},speed:{level1:45,level2:28.12,level3:14.06}},"处理器":{production:"高级成品车间",need:{"电路板":8,"高效电池":1,"散热器":3},speed:{level1:45,level2:28.12,level3:14.06}},"汽车":{production:"高级成品车间",need:{"钢板":80,"玻璃":5,"内燃机":4,"电池":5},speed:{level1:45,level2:28.12,level3:14.06}},"信号接收器":{production:"高级成品车间",need:{"处理器":2,"高效电池":8,"塑料片":100},speed:{level1:45,level2:28.12,level3:14.06}},"炸弹":{production:"高级成品车间",need:{"硫":50,"铁片":100,"木炭":50},speed:{level1:20,level2:12.5,level3:6.25}},"坦克":{production:"高级成品车间",need:{"内燃机":8,"钢板":100,"电路板":5,"电池":5,"灯泡":4},speed:{level1:45,level2:28.12,level3:14.06}},"火箭助推器":{production:"高级成品车间",need:{"内燃机":10,"石墨":100,"处理器":3},speed:{level1:45,level2:28.12,level3:14.06}},"火箭燃料":{production:"高级成品车间",need:{"高效电池":10,"轻质油":10,"太阳能板":3},speed:{level1:45,level2:28.12,level3:14.06}},"遥控感应器":{production:"高级成品车间",need:{"处理器":8,"电路板":20,"高效电池":5},speed:{level1:45,level2:28.12,level3:14.06}},"导弹车":{production:"高级成品车间",need:{"火箭助推器":1,"火箭燃料":1,"遥控感应器":1},speed:{level1:45,level2:28.12,level3:14.06}},"离心机":{production:"高级成品车间",need:{"水泥":200,"电动机":50,"钢板":200},speed:{level1:3,level2:2,level3:1}},"超级计算机":{production:"高级成品车间",need:{"处理器":25,"散热器":100,"绝缘线":300},speed:{level1:45,level2:28.12,level3:14.06}},"雷达":{production:"高级成品车间",need:{"处理器":8,"遥控感应器":2,"超级计算机":1},speed:{level1:45,level2:28.12,level3:14.06}},"原子弹":{production:"高级成品车间",need:{"炸弹":50,"铀棒":100,"钢板":200,"离心机":3},speed:{level1:45,level2:28.12,level3:14.06}},"DF导弹系统":{production:"高级成品车间",need:{"原子弹":1,"导弹车":1,"BD导航卫星":1},speed:{level1:45,level2:28.12,level3:14.06}},"BD导航卫星":{production:"高级成品车间",need:{"信号接收器":1,"超级计算机":1,"雷达":1},speed:{level1:45,level2:28.12,level3:14.06}},"涡扇发动机":{production:"高级成品车间",need:{"内燃机":1,"钛合金":5,"电路板":3},speed:{level1:20,level2:12.5,level3:6.25}},"重力推进器":{production:"高级成品车间",need:{"轻质油":5,"电动机":4,"遥控感应器":1},speed:{level1:20,level2:12.5,level3:6.25}},"绿科研瓶":{production:"高级成品车间",need:{"磁铁":1,"硫":1,"木炭":1},speed:{level1:12,level2:7.5,level3:3.75}},"蓝科研瓶":{production:"高级成品车间",need:{"绝缘线":3,"电池":1,"钢板":3},speed:{level1:15,level2:9.37,level3:4.68}},"黑科研瓶":{production:"高级成品车间",need:{"纺织":3,"炸弹":3,"信号接收器":1,"水泥":5},speed:{level1:15,level2:9.37,level3:4.68}},"紫科研瓶":{production:"高级成品车间",need:{"电路板":3,"内燃机":3,"石墨":10},speed:{level1:15,level2:9.37,level3:4.68}},"黄科研瓶":{production:"高级成品车间",need:{"电动机":3,"高效电池":1,"处理器":1},speed:{level1:15,level2:9.37,level3:4.68}},"H-30轰炸机":{production:"高级成品车间",need:{"涡扇发动机":4,"重力推进器":2,"BD导航卫星":1,"雷达":3},speed:{level1:60,level2:37.5,level3:18.75}},"铀棒":{production:"铀浓缩车间",need:{"铀矿":200},speed:{level1:6,level2:4.28,level3:2.14}},"铀矿废料":{production:"铀浓缩车间",need:{},from:{"铀棒":1},speed:{level1:2,level2:1.42,level3:.71}}};var h=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"InventoryTopClass",attrs:{shadow:"always"}},[t("div",{staticClass:"tagBoxDivClass",staticStyle:{"overflow-y":"auto",height:"87vh"}},[t("div",{staticClass:"tagBoxClass"},e._l(Object.getOwnPropertyNames(e.rawMaterial),(function(l,a){return t("el-popover",{key:a,attrs:{placement:"right",title:"可生产物品",trigger:"hover"}},[t("SuperObjectItem",{attrs:{objects:e.supperObjects(l)}}),t("el-tag",{staticClass:"tagClass",attrs:{slot:"reference",size:"mini",type:e.objectData[l].from?"warning":""},on:{click:function(t){return e.setMaterials(l,e.amount)}},slot:"reference"},[e._v(" "+e._s(l)+" ")])],1)})),1),t("div",{staticClass:"tagBoxClass"},e._l(Object.getOwnPropertyNames(e.smelt),(function(l,a){return t("el-popover",{key:a,attrs:{placement:"right",title:"可生产物品",trigger:"hover"}},[t("SuperObjectItem",{attrs:{objects:e.supperObjects(l)}}),t("el-tag",{staticClass:"tagClass",attrs:{slot:"reference",size:"mini",type:e.objectData[l].from?"warning":""},on:{click:function(t){return e.setMaterials(l,e.amount)}},slot:"reference"},[e._v(" "+e._s(l)+" ")])],1)})),1),t("div",{staticClass:"tagBoxClass"},e._l(Object.getOwnPropertyNames(e.chemicalIndustry),(function(l,a){return t("el-popover",{key:a,attrs:{placement:"right",title:"可生产物品",trigger:"hover"}},[t("SuperObjectItem",{attrs:{objects:e.supperObjects(l)}}),t("el-tag",{staticClass:"tagClass",attrs:{slot:"reference",size:"mini",type:e.objectData[l].from?"warning":""},on:{click:function(t){return e.setMaterials(l,e.amount)}},slot:"reference"},[e._v(" "+e._s(l)+" ")])],1)})),1),t("div",{staticClass:"tagBoxClass"},e._l(Object.getOwnPropertyNames(e.primaryFinishedProduct),(function(l,a){return t("el-popover",{key:a,attrs:{placement:"right",title:"可生产物品",trigger:"hover"}},[t("SuperObjectItem",{attrs:{objects:e.supperObjects(l)}}),t("el-tag",{staticClass:"tagClass",attrs:{slot:"reference",size:"mini",type:e.objectData[l].from?"warning":""},on:{click:function(t){return e.setMaterials(l,e.amount)}},slot:"reference"},[e._v(" "+e._s(l)+" ")])],1)})),1),t("div",{staticClass:"tagBoxClass"},e._l(Object.getOwnPropertyNames(e.advancedFinishedProduct),(function(l,a){return t("el-popover",{key:a,attrs:{placement:"right",title:"可生产物品",trigger:"hover"}},[t("SuperObjectItem",{attrs:{objects:e.supperObjects(l)}}),t("el-tag",{staticClass:"tagClass",attrs:{slot:"reference",size:"mini",type:e.objectData[l].from?"warning":""},on:{click:function(t){return e.setMaterials(l,e.amount)}},slot:"reference"},[e._v(" "+e._s(l)+" ")])],1)})),1)])])},f=[],b=function(){var e=this,t=e._self._c;return t("div",e._l(e.objects,(function(l,a){return t("div",{key:a},[e._v(e._s(l))])})),0)},g=[],j={name:"superObjectItem",props:{objects:Array}},y=j,w=l("2877"),O=Object(w["a"])(y,b,g,!1,null,"3e7d593d",null),D=O.exports,C={name:"Inventory",components:{SuperObjectItem:D},props:{amount:Number,percent:Number},computed:{actMount(){return parseFloat((this.percent*this.amount/100).toFixed(2))},objectData(){return m},rawMaterial(){let e={};return Object.getOwnPropertyNames(this.objectData).forEach(t=>{["铁矿厂","铜矿厂","棉花厂","油井","木材厂","硅矿厂","铀矿厂"].includes(this.objectData[t].production)&&(e[t]=this.objectData[t])}),e},smelt(){let e={};return Object.getOwnPropertyNames(this.objectData).forEach(t=>{["冶炼车间"].includes(this.objectData[t].production)&&(e[t]=this.objectData[t])}),e},chemicalIndustry(){let e={};return Object.getOwnPropertyNames(this.objectData).forEach(t=>{["化工车间"].includes(this.objectData[t].production)&&(e[t]=this.objectData[t])}),e},primaryFinishedProduct(){let e={};return Object.getOwnPropertyNames(this.objectData).forEach(t=>{["初级成品车间"].includes(this.objectData[t].production)&&(e[t]=this.objectData[t])}),e},advancedFinishedProduct(){let e={};return Object.getOwnPropertyNames(this.objectData).forEach(t=>{["高级成品车间"].includes(this.objectData[t].production)&&(e[t]=this.objectData[t])}),e}},data(){return{currentResource:""}},watch:{actMount(){this.setMaterials(this.currentResource,this.actMount)}},methods:{findAdvancedItems(e,t=[]){for(const l in m){const a=m[l];a.need&&a.need[e]&&(t.push(l),this.findAdvancedItems(l,t))}return t},supperObjects(e){return Array.from(new Set(this.findAdvancedItems(e)))},setMaterials(e,t=1){this.currentResource=e,this.$emit("setCurrentResource",this.currentResource),this.$emit("setMaterials",e,t)}}},_=C,x=(l("ebbd"),Object(w["a"])(_,h,f,!1,null,"78292aee",null)),N=x.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"ShowBoardTopClass"},[t("div",{staticClass:"topBoxClass"},[t("el-card",{staticStyle:{overflow:"hidden"},attrs:{shadow:"always"}},[t("div",{staticClass:"divBoxDivClass",staticStyle:{"overflow-y":"auto","max-height":"30vh",padding:"10px"}},[t("el-form",{attrs:{"label-position":"top"}},[t("el-form-item",{attrs:{label:"目标物品个数"}},[t("el-slider",{directives:[{name:"show",rawName:"v-show",value:e.allData.length>0,expression:"allData.length>0"}],attrs:{step:1,max:100,min:1},model:{value:e.amount,callback:function(t){e.amount=t},expression:"amount"}})],1),t("el-form-item",{attrs:{label:"目标物品效率"}},[t("el-slider",{directives:[{name:"show",rawName:"v-show",value:e.allData.length>0,expression:"allData.length>0"}],attrs:{step:1,max:100,min:1},model:{value:e.percent,callback:function(t){e.percent=t},expression:"percent"}})],1)],1),t("div",{staticClass:"tagBoxClass"},e._l(e.allData,(function(l,a){return t("el-tag",{key:a,staticClass:"materialsTagClass",attrs:{type:e.getMaterialType(e.objectFirstKey(l))}},[e._v(" "+e._s(e.objectFirstKey(l))+":"),t("span",{staticClass:"spanClass"},[e._v(e._s(l[e.objectFirstKey(l)].toFixed(2)))])])})),1)],1)])],1),t("div",{staticClass:"bottomBoxClass"},[t("el-card",{staticStyle:{width:"100%",height:"100%"},attrs:{shadow:"always","body-style":{height:"calc(100% - 40px)"}}},[t("tree-diagram",{attrs:{"echarts-data":e.treeData},on:{showDialog:e.showDialog}})],1)],1),t("el-dialog",{attrs:{title:e.dialogObjectName,visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t},close:function(t){e.dialogVisible=!1}}},[t("el-descriptions",{attrs:{border:"",column:3}},[t("el-descriptions-item",{attrs:{label:"生产设备",span:3}},[e._v(" "+e._s(e.objectData[e.dialogObjectName]?e.objectData[e.dialogObjectName].production:"原料")+" ")]),t("el-descriptions-item",{attrs:{label:"一级速度"}},[e._v(" "+e._s(e.objectData[e.dialogObjectName]?e.objectData[e.dialogObjectName].speed.level1:"")+" ")]),t("el-descriptions-item",{attrs:{label:"二级速度"}},[e._v(" "+e._s(e.objectData[e.dialogObjectName]?e.objectData[e.dialogObjectName].speed.level2:"")+" ")]),t("el-descriptions-item",{attrs:{label:"三级速度"}},[e._v(" "+e._s(e.objectData[e.dialogObjectName]?e.objectData[e.dialogObjectName].speed.level3:"")+" ")])],1),this.objectData[e.dialogObjectName]&&this.objectData[e.dialogObjectName].need?t("div",[t("h3",[e._v("所需原料")]),t("div",{staticStyle:{display:"flex"}},e._l(Object.getOwnPropertyNames(this.objectData[e.dialogObjectName].need),(function(l,a){return t("div",{key:a,staticStyle:{"padding-left":"20px"}},[e._v(" "+e._s(l)+" : "+e._s(e.objectData[e.dialogObjectName].need[l])+" ")])})),0)]):e._e()],1)],1)},S=[],P=function(){var e=this,t=e._self._c;return t("div",{staticStyle:{width:"100%",height:"100%"},attrs:{id:"echartsTreeDom"}})},z=[],B=l("313e");function T(e,t,l){let a=m[e].need;if(!a)return{};let o=Object.getOwnPropertyNames(a),r={};return o.forEach(o=>{let n={},s=9999,i="";for(let t=3;t>=1;t--){let r=k(l,"level"+t,o,a,e);r<=s&&(i="level"+t,s=r)}n[m[o].production]={level:i,amount:t*s},r[o]=n}),r}function k(e,t,l,a,o){let r=m[l].speed[t]*a[l]/m[o].speed[e];return Math.ceil(r)}function F(e,t){return Object.getOwnPropertyNames(t).forEach(l=>{Object.getOwnPropertyNames(t[l]).forEach(a=>{e+=l+"["+t[l][a].amount+"*"+a+"("+("level1"===t[l][a].level?"1级":"level1"===t[l][a].level?"2级":"3级")+")]"})}),e}var I={name:"TreeDiagram",props:{echartsData:Object},watch:{getOption:{handler(e,t){(e||e===t)&&this.myChart&&(this.myChart.showLoading(),this.myChart.setOption(this.getOption),this.myChart.hideLoading())},immediate:!0,deep:!0}},mounted(){const e=document.getElementById("echartsTreeDom");this.myChart=B["a"](e)},computed:{objectData(){return m},getOption(){return this.option.series.data=[this.echartsData],this.option}},data(){return{myChart:void 0,option:{tooltip:{show:!0,trigger:"item",formatter:({name:e,value:t})=>this.getMessageInfo(e,t)},series:{dataZoom:{type:"inside",filterMode:"filter",orient:"vertical"},roam:!0,initialTreeDepth:4,expandAndCollapse:!0,type:"tree",data:[],top:"1%",left:"15%",bottom:"1%",right:"7%",symbolSize:50,orient:"RL",label:{verticalAlign:"middle",align:"left",position:[5,-10],formatter:e=>e.name+":"+e.value},leaves:{label:{position:"left",verticalAlign:"middle",align:"right"}},emphasis:{focus:"descendant"},animationDuration:550,animationDurationUpdate:750}}}},methods:{showDialog(e){this.$emit("showDialog",e)},getMessageInfo(e,t){let l=T(e,t,"level1"),a=T(e,t,"level2"),o=T(e,t,"level3"),r=F("1级配速:",l),n=F("2级配速:",a),s=F("3级配速:",o);return r+"<br>"+n+"<br>"+s}}},A=I,R=Object(w["a"])(A,P,z,!1,null,"fbd238fa",null),E=R.exports,L={name:"ShowBoard",components:{TreeDiagram:E},props:{treeData:Object,allData:Array},data(){return{dialogObjectName:"",amount:1,percent:100,dialogVisible:!1}},watch:{amount(){this.$emit("setAmount",this.amount)},percent(){this.$emit("setPercent",this.percent)}},computed:{objectData(){return m},materialsTypes(){return i},typeToProduction(){return d}},methods:{filterByType(e,t){return"原料"===t&&!this.objectData[e].need||this.objectData[e].production===t},getMaterialType(e){return this.typeToProduction[this.objectData[e].production]},objectFirstKey(e){return Object.getOwnPropertyNames(e)[0]},showDialog(e){this.dialogObjectName=e.name,this.dialogVisible=!0}}},$=L,J=(l("849c"),Object(w["a"])($,M,S,!1,null,"5ffea706",null)),V=J.exports,K=l("ec26"),U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"mapSimulationTopClass"},[t("div",{staticStyle:{display:"flex"},on:{dragstart:e.dragstart,dragover:e.dragover,dragenter:e.dragenter,drop:e.drop,dragend:e.dragend}},[t("div",{staticStyle:{width:"10%"}},[t("div",{staticClass:"factoryBoxClass",attrs:{"data-drop":"move"}},e._l(e.factorys,(function(l,a){return t("img",{key:a,staticClass:"factoryItemClass",class:l.size+"Class",attrs:{"data-effect":"copy",draggable:"true",src:e.imageMap[l.name]}})})),0)]),t("div",{staticStyle:{width:"85%"}},[t("div",{staticClass:"mapBodyClass"},e._l(36,(function(l){return t("div",{key:l,staticClass:"horizontalClass"},e._l(64,(function(e){return t("div",{key:e,staticClass:"landPlotClass",attrs:{"data-drop":"copy"}})})),0)})),0)])])])},H=[],q={name:"MapSimulation",data(){return{currentDropNode:void 0}},computed:{factorys(){return p},imageMap(){return u}},mounted(){},methods:{dragstart(e){e.dataTransfer.effectAllowed=e.target.dataset.effect,this.currentDropNode=e.target},dragover(e){e.preventDefault()},clearDropStyle(){document.querySelectorAll(".drop-over").forEach(e=>{e.classList.remove("drop-over")})},dragenter(e){this.clearDropStyle();const t=this.getDropNode(e.target);t&&t.dataset.drop===e.dataTransfer.effectAllowed&&t.classList.add("drop-over")},drop(e){this.clearDropStyle();const t=this.getDropNode(e.target);if(t&&t.dataset.drop===e.dataTransfer.effectAllowed)if("copy"===t.dataset.drop){t.innerHTML="";const e=this.currentDropNode.cloneNode(!0);e.dataset.effect="move",t.appendChild(e)}else this.currentDropNode.remove()},dragend(e){console.log("dragend",e.target)},getDropNode(e){while(e){if(e.dataset&&e.dataset.drop)return e;e=e.parentNode}}}},Z=q,G=(l("7e6e"),Object(w["a"])(Z,U,H,!1,null,"4fcad6b4",null)),Q=G.exports,W={name:"MainBoard",components:{MapSimulation:Q,ShowBoard:V,Inventory:N},computed:{objectData(){return m}},data(){return{allMaterials:[],treeMaterials:{},currentResource:"",amount:1,percent:100,showMap:!1}},methods:{getJSONTree(e,t=0){const l=" ".repeat(2*t);let a="";if(a+=`${l}${e.name}:${e.value}\n`,e.children&&e.children.length>0){for(let l=0;l<e.children.length;l++)a+=this.getJSONTree(e.children[l],t+2)+"\n";a=a.slice(0,-2)}return a},saveFiles(e,t){let l=window.URL||window.webkitURL||window,a=new Blob([this.getJSONTree(e)]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=l.createObjectURL(a),o.download=t,o.click()},buildTree(e,t,l=1){if(l=parseFloat(parseFloat(l).toFixed(2)),!this.objectData[e])return e;const a=Object(K["a"])(),o={id:a,parentId:t,name:e,amount:l,value:l.toFixed(2),symbol:"image://"+u[e],children:[]};if(!this.objectData[e].need)return o;let r=Object.getOwnPropertyNames(this.objectData[e].need);return r.forEach(t=>{o.children.push(this.buildTree(t,a,this.objectData[e].need[t]*l))}),o},getMaterials(e,t=1){const l=this.calculateProduction(e,t);this.allMaterials=this.sortByProduction(l),this.treeMaterials=this.buildTree(e,"0",t)},sortByProduction(e){let t=Object.entries(e).map(([e,t])=>({[e]:t}));return t.sort((e,t)=>c.indexOf(this.objectData[Object.getOwnPropertyNames(e)[0]].production)-c.indexOf(this.objectData[Object.getOwnPropertyNames(t)[0]].production))},calculateProduction(e,t=1){const l=m[e];if(!l||t<=0)return{};if(!l.need)return{[e]:t};const a={};for(const[r,n]of Object.entries(l.need)){const e=n*t;a[r]=(a[r]||0)+e;const l=this.calculateProduction(r,e);for(const[t,o]of Object.entries(l))a[t]=(a[t]||0)+o}const o={};for(const[r,n]of Object.entries(a)){const e=m[r];if(!e)return{};const t=n;o[r]=(o[r]||0)+t}return o}}},X=W,Y=(l("9f3f"),Object(w["a"])(X,n,s,!1,null,"733df380",null)),ee=Y.exports,te={name:"App",components:{MainBoard:ee},mounted(){v("BD导航卫星"),v("DF导弹系统"),v("H-30轰炸机"),v("信号接收器"),v("内燃机"),v("军用水壶"),v("军用电筒"),v("军用背包"),v("冰箱"),v("原子弹"),v("原油"),v("口罩"),v("坦克"),v("塑料片"),v("处理器"),v("太阳能板"),v("头盔"),v("导弹车"),v("平底锅"),v("手机"),v("抽水机"),v("拖拉机"),v("挖掘机"),v("摩托车"),v("收音机"),v("散热器"),v("望远镜"),v("木材"),v("木板"),v("木炭"),v("棉花"),v("气球"),v("水泥"),v("汽车"),v("沥青"),v("洗衣机"),v("涡扇发动机"),v("火箭助推器"),v("火箭燃料"),v("灯泡"),v("炸弹"),v("玩具车"),v("玻璃"),v("电动机"),v("电池"),v("电脑"),v("电视机"),v("电路板"),v("电钻"),v("电风扇"),v("石墨"),v("硅矿"),v("硫"),v("硫酸"),v("碎石"),v("磁铁"),v("离心机"),v("紫科研瓶"),v("红科研瓶"),v("纸"),v("纺织"),v("绝缘线"),v("绿科研瓶"),v("蓝科研瓶"),v("螺丝"),v("超级计算机"),v("轻质油"),v("遥控感应器"),v("重力推进器"),v("钛合金"),v("钛块"),v("钢板"),v("铀棒"),v("铀矿"),v("铀矿废料"),v("铁片"),v("铁矿"),v("铁钉"),v("铜矿"),v("铜线"),v("防弹衣"),v("防毒面具"),v("雷达"),v("高效电池"),v("黄科研瓶"),v("黑科研瓶"),v("铁矿厂"),v("铜矿厂"),v("传送带"),v("储物间"),v("冶炼车间"),v("机械臂"),v("初级成品车间"),v("棉花厂"),v("木材厂"),v("油井"),v("化工车间"),v("长机械臂"),v("平均分流器"),v("筛选机械臂"),v("高级成品车间"),v("硅矿厂"),v("铀矿厂"),v("铀浓缩车间"),v("导弹车厂"),v("地下传送带"),v("筛选分流器")}},le=te,ae=(l("7bfc"),Object(w["a"])(le,o,r,!1,null,null,null)),oe=ae.exports,re=l("5c96"),ne=l.n(re);l("0fae");a["default"].use(ne.a),a["default"].config.productionTip=!1,new a["default"]({render:e=>e(oe)}).$mount("#app")},"7bfc":function(e,t,l){"use strict";l("adb3")},"7e6e":function(e,t,l){"use strict";l("eae8")},"849c":function(e,t,l){"use strict";l("a4ae")},"932e":function(e,t,l){},"9f3f":function(e,t,l){"use strict";l("932e")},a4ae:function(e,t,l){},adb3:function(e,t,l){},eae8:function(e,t,l){},ebbd:function(e,t,l){"use strict";l("4ed0")}});
//# sourceMappingURL=app.6698d0f8.js.map